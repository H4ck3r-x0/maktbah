import{q as C,r as R,W as I,j as t,a as e,d as q,b as F}from"./app-4dcbcd01.js";import{P as h}from"./PrimaryButton-2a1d70c1.js";import{I as s}from"./InputError-6a8fc0f2.js";import{I as i}from"./InputLabel-bca30bca.js";import{T as n}from"./TextInput-599c42a1.js";import{A as _}from"./AuthenticatedLayout-b432783d.js";import{t as k}from"./transition-cfef33d3.js";import"./AdminAuthenticatedHeader-7810a8a5.js";import"./ApplicationLogo-04acaaec.js";import"./AuthenticatedLibraryHeader-33bf1063.js";function P({auth:p,cities:d,districts:g}){const m=C().props.flash.createNewLibrary,[c,v]=R.useState(""),{data:o,setData:r,post:f,errors:l,processing:N,recentlySuccessful:b}=I({libraryOwnerName:"",name:"",phone:"",CR:"",city:"",district:"",google_maps:"",selectedCityId:c||""}),x=a=>{const u=d.filter(y=>a.target.value==y.id);v(u[0].id),r("city",u[0].name)},w=a=>{a.preventDefault(),f(route("library.store"))};return t(_,{user:p.user,header:t("div",{className:"flex items-center justify-between",children:[e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"إنشاء مكتبة جديدة"}),e(q,{href:route("library.dashboard"),children:e(h,{children:"العودة"})})]}),children:[e(F,{title:"إنشاء مكتبة جديدة"}),e("div",{className:"py-4",children:t("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[m&&t("div",{className:"flex p-4 mb-4 text-sm text-blue-800 rounded-lg bg-blue-300 shadow",role:"alert",children:[e("svg",{"aria-hidden":"true",className:"flex-shrink-0 inline w-5 h-5 mr-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),t("div",{className:"text-md",children:[e("span",{className:"font-bold mr-2 text-white",children:"ملاحظة"}),t("span",{className:"text-white mr-1 font-bold",children:[m,"."]})]})]}),e("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e("div",{className:"p-6 text-gray-900",children:t("form",{onSubmit:w,className:"mt-6 space-y-6",children:[t("div",{children:[e(i,{htmlFor:"city",value:"المدينة"}),t("select",{required:!0,onChange:x,className:"w-full mt-2 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm ",children:[e("option",{value:"",children:"أختر المدينة"}),d.map(a=>e("option",{value:a.id,children:a.name},a.id))]}),e(s,{className:"mt-2",message:l.city})]}),t("div",{children:[e(i,{htmlFor:"city",value:"الحي"}),t("select",{required:!0,onChange:a=>r("district",a.target.value),className:"w-full mt-2 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm ",children:[e("option",{value:"",children:"أختر الحي"}),g.filter(a=>a.city_id===c).map(a=>e("option",{value:a.name,children:a.name},a.id))]}),e(s,{className:"mt-2",message:l.district_id})]}),t("div",{children:[e(i,{htmlFor:"googleMaps",value:"عنوان قوقل مابز"}),e(n,{id:"googleMaps",className:"mt-2 block w-full",value:o.google_maps,onChange:a=>r("google_maps",a.target.value),required:!0,autoComplete:"googleMaps"}),e(s,{className:"mt-2",message:l.google_maps})]}),t("div",{children:[e(i,{htmlFor:"name",value:"اسم المكتبة"}),e(n,{id:"name",className:"mt-2 block w-full",value:o.name,onChange:a=>r("name",a.target.value),required:!0,autoComplete:"name"}),e(s,{className:"mt-2",message:l.name})]}),t("div",{children:[e(i,{htmlFor:"phone",value:"رقم التواصل"}),e(n,{id:"phone",className:"mt-2 block w-full",value:o.phone,onChange:a=>r("phone",a.target.value),required:!0,autoComplete:"phone"}),e(s,{className:"mt-2",message:l.phone})]}),t("div",{children:[e(i,{htmlFor:"CR",value:"السجل التجاري"}),e(n,{id:"CR",className:"mt-2 block w-full",value:o.CR,onChange:a=>r("CR",a.target.value),required:!0,autoComplete:"CR"}),e(s,{className:"mt-2",message:l.CR})]}),t("div",{className:"flex items-center gap-4",children:[e(h,{disabled:N,children:"حفظ"}),e(k,{show:b,enterFrom:"opacity-0",leaveTo:"opacity-0",className:"transition ease-in-out",children:e("p",{className:"text-sm text-gray-600",children:"تم الحفظ بنجاح"})})]})]})})})]})})]})}export{P as default};
