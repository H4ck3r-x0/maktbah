import{r as I,W as R,j as t,a as e,d as F,b as _}from"./app-7ced1f69.js";import{I as r}from"./InputError-b1e090fb.js";import{I as i}from"./InputLabel-c601750b.js";import{P as u}from"./PrimaryButton-b16408b1.js";import{T as n}from"./TextInput-dead9390.js";import{A as j}from"./AuthenticatedLayout-e438061e.js";import{t as k}from"./transition-529127ea.js";import"./AdminAuthenticatedHeader-cab090c3.js";import"./ApplicationLogo-59c374e1.js";import"./AuthenticatedLibraryHeader-4d8f2c2f.js";function W({auth:h,library:s,cities:d,districts:p}){const[g,v]=I.useState(""),{data:m,setData:l,patch:f,errors:o,processing:C,recentlySuccessful:N}=R({name:s.name,phone:s.phone,CR:s.CR,city:s.city,district:s.district,google_maps:s.google_maps}),x=a=>{a.preventDefault(),f(route("library.update",s.id))},y=a=>{const w=a.target.value,c=d.filter(b=>w==b.id);v(c[0].id),l("city",c[0].name)};return t(j,{user:h.user,header:t("div",{className:"flex items-center justify-between",children:[e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"تعديل المكتبة"}),e(F,{href:route("library.dashboard"),children:e(u,{children:"العودة"})})]}),children:[e(_,{title:"تعديل المكتبة"}),e("div",{className:"py-8",children:e("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e("div",{className:"p-6 text-gray-900",children:t("form",{onSubmit:x,className:"mt-6 space-y-6",children:[t("div",{children:[e(i,{htmlFor:"city",value:"المدينة"}),t("select",{onChange:y,className:"w-full mt-2 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm ",children:[e("option",{value:"",children:"أختر المدينة"}),d.map(a=>e("option",{value:a.id,children:a.name},a.id))]}),e(r,{className:"mt-2",message:o.city})]}),t("div",{children:[e(i,{htmlFor:"city",value:"الحي"}),t("select",{onChange:a=>l("district",a.target.value),className:"w-full mt-2 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm ",children:[e("option",{value:"",children:"أختر الحي"}),p.filter(a=>a.city_id===g).map(a=>e("option",{value:a.name,children:a.name},a.id))]}),e(r,{className:"mt-2",message:o.district_id})]}),t("div",{children:[e(i,{htmlFor:"googleMaps",value:"عنوان قوقل مابز"}),e(n,{id:"googleMaps",className:"mt-2 block w-full",value:m.google_maps,onChange:a=>l("google_maps",a.target.value),required:!0,autoComplete:"googleMaps"}),e(r,{className:"mt-2",message:o.google_maps})]}),t("div",{children:[e(i,{htmlFor:"name",value:"اسم المكتبة"}),e(n,{id:"name",className:"mt-2 block w-full",value:m.name,onChange:a=>l("name",a.target.value),required:!0,autoComplete:"name"}),e(r,{className:"mt-2",message:o.name})]}),t("div",{children:[e(i,{htmlFor:"phone",value:" رقم التواصل"}),e(n,{id:"phone",className:"mt-2 block w-full",value:m.phone,onChange:a=>l("phone",a.target.value),required:!0,autoComplete:"phone"}),e(r,{className:"mt-2",message:o.phone})]}),t("div",{children:[e(i,{htmlFor:"CR",value:"السجل التجاري"}),e(n,{id:"CR",className:"mt-2 block w-full",value:m.CR,onChange:a=>l("CR",a.target.value),required:!0,autoComplete:"CR"}),e(r,{className:"mt-2",message:o.CR})]}),t("div",{className:"flex items-center gap-4",children:[e(u,{disabled:C,children:"تحديث"}),e(k,{show:N,enterFrom:"opacity-0",leaveTo:"opacity-0",className:"transition ease-in-out",children:e("p",{className:"text-sm text-gray-600",children:"تم الحفظ بنجاح"})})]})]})})})})})]})}export{W as default};
