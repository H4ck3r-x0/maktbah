import{q as l,W as y,r as o,j as s,a as e,b as g,d as f}from"./app-d3ec313d.js";import{P as h}from"./PrimaryButton-44e0541f.js";import{A as b}from"./AuthenticatedLayout-c6c2a0e4.js";import{m as v}from"./moment-with-locales-f0f5a68f.js";import{d as w}from"./debounce-e033cdb1.js";import{T as C}from"./TextInput-c008251e.js";import"./AdminAuthenticatedHeader-4998e936.js";import"./ApplicationLogo-ffda1d56.js";import"./transition-1f66cc5d.js";import"./AuthenticatedLibraryHeader-edede4dc.js";function E({auth:p,orders:i}){const n=l().props.filters,m=l().props.currentPage,{data:t,setData:c,get:d,processing:x}=y({search:n.search}),u=a=>{c("search",a.target.value)},N=()=>{d(route("branch.order.index",{search:t.search,page:m}),{preserveScroll:!0,preserveState:!0,replace:!0})},r=o.useCallback(w(N,500),[t.search]);return o.useEffect(()=>(r(),r.cancel),[t.search,r]),s(b,{user:p.user,header:e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"الطلبات"}),children:[e(g,{title:"الطلبات"}),e("div",{className:"py-6",children:s("div",{className:"w-full items-center gap-3 px-6",children:[e("div",{className:"pb-3",children:s("div",{className:"flex items-center gap-4",children:[e(C,{type:"text",id:"search",name:"search",className:" w-80",value:t.search?t.search:"",autoComplete:"search",onChange:u,placeholder:"رقم الطلب،  صاحب الطلب"}),t.search!==""?e(h,{onClick:()=>c("search",""),children:"إعادة تعيين"}):null]})}),e("div",{className:"relative overflow-x-auto",children:s("table",{className:"w-full text-xs sm:text-lg text-right text-gray-500 shadow border",children:[e("thead",{className:"text-xs sm:text-lg text-gray-700  border ",children:s("tr",{children:[e("th",{scope:"col",className:"px-6 py-3",children:"رقم الطلب"}),e("th",{scope:"col",className:"px-6 py-3",children:"صاحب الطلب"}),e("th",{scope:"col",className:"px-6 py-3",children:"حالة الطلب"}),e("th",{scope:"col",className:"px-6 py-3",children:"إجمالي الطلب"}),e("th",{scope:"col",className:"px-6 py-3",children:"تاريخ الانشاء"}),e("th",{scope:"col",className:"px-6 py-3",children:"العمليات"})]})}),e("tbody",{className:`${x?"opacity-50":""}`,children:i.map(a=>s("tr",{className:"bg-white ",children:[e("th",{scope:"row",className:"px-6 py-4  text-gray-900 whitespace-nowrap ",children:a.id}),e("th",{scope:"row",className:"px-6 py-4",children:a.user.name}),e("td",{className:"px-6 py-4",children:a.model_status[a.current_status].message.ar}),s("td",{className:"px-6 py-4",children:[a.total_payment," ريال"]}),e("td",{className:"px-6 py-4",children:v(a.created_at).locale("ar").format("MMMM Do YYYY")}),e("td",{className:"px-6 py-4",children:e(f,{href:route("branch.order.show",a.id),children:e(h,{className:"text-xs sm:text-sm",children:"التفاصيل"})})})]},a.id))})]})})]})})]})}export{E as default};
