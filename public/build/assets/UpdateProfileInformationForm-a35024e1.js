import{q as S,r as f,W as F,j as t,a as r}from"./app-16f00f28.js";import{I as l}from"./InputError-9d145645.js";import{I as c}from"./InputLabel-b01a3739.js";import{P as j}from"./PrimaryButton-5ef67552.js";import"./TextInput-7498b384.js";import{t as E}from"./transition-6731b11a.js";function L({className:v="",cities:a,districts:m}){var h,g;const n=S().props.auth.user,[y,u]=f.useState(""),{data:i,setData:d,patch:N,errors:s,processing:b,recentlySuccessful:x}=F({gender:n.gender,city:n.city,district:n.district});f.useEffect(()=>{var e;u(((e=a.find(o=>o.name===i.city))==null?void 0:e.id)||"")},[]);const I=e=>{e.preventDefault(),N(route("profile.update"),{preserveScroll:!0})},w=e=>{const o=e.target.value,p=a.filter(C=>o==C.id);u(p[0].id),d("city",p[0].name)};return t("section",{className:v,children:[t("header",{children:[r("h2",{className:"text-lg font-medium text-gray-900",children:"معلوماتك الشخصية"}),r("p",{className:"mt-1 text-sm text-gray-600",children:"قم بتحديث معلوماتك الشخصية."})]}),t("form",{onSubmit:I,className:"mt-6 space-y-6",children:[t("div",{className:"mb-2",children:[r(c,{htmlFor:"gender",value:"الجنس"}),t("select",{value:i.gender||"",onChange:e=>d("gender",e.target.value),name:"gender",id:"gender",required:!0,className:"mt-2 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",children:[r("option",{value:"",children:"أختر نوع الجنس"}),r("option",{value:"male",children:"ذكر"}),r("option",{value:"female",children:"أنثى"})]}),r(l,{message:s.gender,className:"mt-2"})]}),t("div",{children:[r(c,{htmlFor:"city",value:"المدينة"}),t("select",{value:((h=a.find(e=>e.name===i.city))==null?void 0:h.id)||"",onChange:w,className:"w-full mt-2 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm ",children:[r("option",{value:"",children:"أختر المدينة"}),a.map(e=>r("option",{value:e.id,children:e.name},e.id))]}),r(l,{className:"mt-2",message:s.city})]}),t("div",{children:[r(c,{htmlFor:"city",value:"الحي"}),t("select",{value:((g=m.find(e=>e.name===i.district))==null?void 0:g.name)||"",onChange:e=>d("district",e.target.value),className:"w-full mt-2 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm ",children:[r("option",{value:"",children:"أختر الحي"}),m.filter(e=>e.city_id===y).map(e=>r("option",{value:e.name,children:e.name},e.id))]}),r(l,{className:"mt-2",message:s.district_id})]}),t("div",{className:"flex items-center gap-4",children:[r(j,{disabled:b,children:"حفظ"}),r(E,{show:x,enterFrom:"opacity-0",leaveTo:"opacity-0",className:"transition ease-in-out",children:r("p",{className:"text-sm text-gray-600",children:"تم الحفظ بنجاح"})})]})]})]})}export{L as default};
