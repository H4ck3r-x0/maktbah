import{q as f,r as o,W as _,j as t,a as r,b as B}from"./app-16f00f28.js";import{A as E}from"./AuthenticatedLayout-fda8994a.js";import{d as I}from"./debounce-e9946d12.js";import q from"./Pagination-95a42628.js";import A from"./BookCard-9af36720.js";import"./AdminAuthenticatedHeader-7492c730.js";import"./ApplicationLogo-123847eb.js";import"./transition-6731b11a.js";import"./AuthenticatedLibraryHeader-4cbca632.js";import"./DangerButton-e377c4e8.js";import"./PrimaryButton-5ef67552.js";import"./react-toastify.esm-cf03fd20.js";/* empty css                      */function R({auth:m,books:l,cities:u,districts:v,topSilingBooks:y,adminAdImage:h}){const d=f().props.filters,p=f().props.currentPage,[w,N]=o.useState(""),{data:i,setData:c,get:b,reset:C}=_({search:d.search,city:d.city,district:d.district}),k=()=>{b(route("search.books.index",{search:i.search,city:i.city,district:i.district,page:p}),{preserveScroll:!0,preserveState:!0,replace:!0})},n=o.useCallback(I(k,500),[i.search,i.city,i.district,p]);o.useEffect(()=>(n(),n.cancel),[i.search,i.city,i.district,n]);const j=e=>{var g,x;const s=e.target.value,a=u.filter(P=>s==P.name);N((g=a[0])==null?void 0:g.id),c("city",(x=a[0])==null?void 0:x.name)},S=e=>{c("district",e.target.value)};return t(E,{user:m.user,children:[r(B,{title:"البحث عن الكتب"}),t("div",{className:"py-2",children:[h&&r("div",{className:"flex items-center justify-center px-4  py-4",children:r("img",{src:h,className:"w-[1000px] h-[250px] shadow-lg rounded-lg",alt:""})}),t("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[t("div",{className:"w-full mx-auto sm:inline-flex ml-4 justify-center items-center gap-3 px-6 ",children:[r("input",{value:i.search||"",onChange:e=>{c("search",e.target.value),e.target.value===""&&C()},type:"text",className:"w-full sm:max-w-xl md:max-w-sm border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",placeholder:"إبحث بإسم الكتاب او المؤلف ..."}),r("div",{className:"mb-2",children:t("select",{onChange:j,value:i.city||"",name:"city",id:"city",className:"mt-2 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",children:[r("option",{value:"",children:"أختر المدينة"}),u.map(e=>r("option",{value:e.name,children:e.name},e.id))]})}),r("div",{className:"mb-2",children:t("select",{onChange:S,value:i.district||"",name:"district",id:"district",className:"mt-2 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",children:[r("option",{value:"",children:"أختر الحي"}),v.filter(e=>e.city_id===w).map(e=>r("option",{value:e.name,children:e.name},e.id))]})})]}),r("div",{className:"overflow-hidden sm:rounded-lg",children:t("div",{className:"p-6 text-gray-900",children:[t("div",{className:"container mx-auto grid grid-cols-1 sm:grid-cols-1  gap-4",children:[!l.data.length&&r("div",{className:"py-6",children:t("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r("h1",{className:"text-xl mb-2 font-semibold text-gray-600",children:"الكتب الأكثر طلبا"}),r("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:r("div",{className:"mx-auto grid grid-cols-1 sm:max-w-7xl  sm:grid-cols-1 p-6 gap-2 flex-wrap text-gray-900",children:y.map(e=>r("div",{className:"rounded-xl w-full shadow-lg border",children:r("div",{className:"flex w-full items-center justify-between bg-indigo-300 rounded-xl px-4",children:t("h1",{className:"p-2 w-full text-white text-xl whitespace-nowrap",children:[r("span",{className:"font-semibold",children:"أسم الكتاب :"})," ",e.book_name," "]})})},e.id))})})]})}),l.data.map(e=>{var s,a;return r("div",{children:r(A,{book:e,userUnivirsty:(a=(s=m.user)==null?void 0:s.user_profile)==null?void 0:a.university})},e.id)})]}),r(q,{class:"mt-6",links:l.links})]})})]})]})]})}export{R as default};
