import{r as I,W as _,j as a,a as e,d as F,b as j}from"./app-7355fa36.js";import"./AdminAuthenticatedHeader-4195689c.js";import{I as i}from"./InputError-2d0e5ee7.js";import{I as l}from"./InputLabel-99e5ea26.js";import{P as c}from"./PrimaryButton-d324a9fe.js";import{T as u}from"./TextInput-cd5cb23e.js";import{A as S}from"./AuthenticatedLayout-510cd8a3.js";import{t as E}from"./transition-1802807a.js";import"./ApplicationLogo-50054e7e.js";import"./AuthenticatedLibraryHeader-8212a420.js";function z({auth:h,branch:s,cities:d,districts:p}){const[g,f]=I.useState(""),{data:n,setData:o,patch:v,errors:r,processing:y,recentlySuccessful:x}=_({phone:s.phone,city:s.city,district:s.district,google_maps:s.google_maps}),N=t=>{t.preventDefault(),v(route("branch.update",s.id))},b=t=>{const w=t.target.value,m=d.filter(C=>w==C.id);f(m[0].id),o("city",m[0].name)};return a(S,{user:h.user,header:a("div",{className:"flex items-center justify-between",children:[e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"تعديل المكتبة"}),e(F,{href:route("branch.dashboard"),children:e(c,{children:"العودة"})})]}),children:[e(j,{title:"تعديل المكتبة"}),e("div",{className:"py-8",children:e("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e("div",{className:"p-6 text-gray-900",children:a("form",{onSubmit:N,className:"mt-6 space-y-6",children:[a("div",{children:[e(l,{htmlFor:"city",value:"المدينة"}),a("select",{onChange:b,className:"w-full mt-2 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm ",children:[e("option",{value:"",children:"أختر المدينة"}),d.map(t=>e("option",{value:t.id,children:t.name},t.id))]}),e(i,{className:"mt-2",message:r.city})]}),a("div",{children:[e(l,{htmlFor:"city",value:"الحي"}),a("select",{onChange:t=>o("district",t.target.value),className:"w-full mt-2 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm ",children:[e("option",{value:"",children:"أختر الحي"}),p.filter(t=>t.city_id===g).map(t=>e("option",{value:t.name,children:t.name},t.id))]}),e(i,{className:"mt-2",message:r.district_id})]}),a("div",{children:[e(l,{htmlFor:"googleMaps",value:"عنوان قوقل مابز"}),e(u,{id:"googleMaps",className:"mt-2 block w-full",value:n.google_maps,onChange:t=>o("google_maps",t.target.value),required:!0,autoComplete:"googleMaps"}),e(i,{className:"mt-2",message:r.google_maps})]}),a("div",{children:[e(l,{htmlFor:"phone",value:" رقم التواصل"}),e(u,{id:"phone",className:"mt-2 block w-full",value:n.phone,onChange:t=>o("phone",t.target.value),required:!0,autoComplete:"phone"}),e(i,{className:"mt-2",message:r.phone})]}),a("div",{className:"flex items-center gap-4",children:[e(c,{disabled:y,children:"تحديث"}),e(E,{show:x,enterFrom:"opacity-0",leaveTo:"opacity-0",className:"transition ease-in-out",children:e("p",{className:"text-sm text-gray-600",children:"تم الحفظ بنجاح"})})]})]})})})})})]})}export{z as default};
