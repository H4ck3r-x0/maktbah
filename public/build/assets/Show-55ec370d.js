import{j as t,a as e,b as m,d as c}from"./app-3fbc7353.js";import{P as i}from"./PrimaryButton-83dd7da4.js";import{P as d,h as x,E as p}from"./html2canvas.esm-dba1b8d7.js";import{m as y}from"./moment-with-locales-df8b830c.js";import{A as g}from"./ApplicationLogo-c5ebf159.js";import"./typeof-7fd5df1e.js";function k({auth:o,order:s}){const n=()=>{const a=document.getElementById("divToPrint");x(a,{logging:!1,scale:2}).then(l=>{const h=l.toDataURL("image/png"),r=new p;r.addImage(h,"PNG",0,0,214,150),r.save("فاتورة راحة - "+s.id+".pdf")}).catch(l=>{alert("هناك خطأ في تحميل الفاتورة، يمكنك عمل تصوير للشاشة")})};return t(d,{user:o.user,header:t("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:["تفاصيل الطلب #",s.id]}),children:[e(m,{title:`تفاصل الطلب #${s.id}`}),t("div",{className:"max-h-screen max-w-max mx-auto py-6",id:"divToPrint",children:[t("div",{className:"flex  items-center justify-between px-6 pb-10",children:[e(c,{href:"/",children:e(g,{className:" w-20 h-20 fill-current text-gray-500"})}),e(c,{href:route("library.order.index"),id:"goBack","data-html2canvas-ignore":!0,children:e(i,{children:"العودة"})})]}),e("div",{className:"sm:px-6 lg:px-8",children:t("div",{className:"",children:[t("div",{className:"w-full flex items-center justify-between",children:[t("div",{className:"flex flex-col gap-3",children:[t("h1",{className:"text-lg  text-gray-600",children:["رقم الطلب : ",s.id]}),t("h1",{className:"text-lg  text-gray-600",children:["تاريخ الإنشاء : ",y(s.created_at).locale("ar").format("MMMM Do YYYY")]})]}),t("div",{className:"flex flex-col gap-3",children:[e("h1",{className:"text-lg  text-gray-600",children:s.user.username}),e("h1",{className:"text-lg  text-gray-600",children:s.user.phone}),s.user.city&&s.user.district&&e("h1",{className:"text-lg  text-gray-600",children:s.user.city+" - "+s.user.district})]})]}),t("div",{className:"relative overflow-x-auto",children:[e("h1",{className:"py-4 text-xl font-semibold",children:"الطلبات"}),t("table",{className:"w-full text-xs sm:text-lg text-right text-gray-500 shadow border",children:[e("thead",{className:"text-xs sm:text-lg text-gray-700  border ",children:t("tr",{children:[e("th",{scope:"col",className:"px-3 py-3",children:"المكتبة"}),e("th",{scope:"col",className:"px-3 py-3",children:"الكتاب"}),e("th",{scope:"col",className:"px-3 py-3",children:"العرض"}),e("th",{scope:"col",className:"px-3 py-3",children:"الإجمالي"})]})}),e("tbody",{children:s.details.map(a=>t("tr",{className:"bg-white border",children:[e("th",{scope:"row",className:"px-3 py-4 text-gray-600 whitespace-nowrap ",children:t("div",{children:[t("h1",{children:[" ",a.book.library.name]}),a.book.library.city&&a.book.library.district&&e("h1",{className:"text-sm text-gray-400",children:a.book.library.city+" - "+a.book.library.district})]})}),e("th",{scope:"row",className:"px-3py-4  text-gray-600 whitespace-nowrap ",children:t("div",{children:[e("h1",{children:a.book.book.book_name}),e("span",{className:"text-sm text-gray-400",children:a.book.book.author_name+" - "+a.book.book.edition_number+" - "+a.book.book.volume_number})]})}),e("th",{scope:"row",className:"px-3 py-4  text-gray-600 whitespace-nowrap ",children:a.book.offer?a.book.offer:"لايوجد"}),t("th",{scope:"row",className:"px-3 py-4  text-gray-600 whitespace-nowrap ",children:[a.book.price," ريال"]})]},a.id))})]})]}),t("div",{className:"w-full flex flex-col items-center justify-between pt-10",children:[e("div",{children:t("h1",{className:"flex flex-col items-center gap-3 text-lg font-semibold text-gray-700",children:[e("span",{children:"إجمالي قيمة المشتريات"}),t("span",{children:[s.total_payment," ريال"]})]})}),e("div",{className:"mt-3",children:e("p",{className:"text-lg text-gray-700",children:"هذي الفاتورة تقوم بعرضعها على اصحاب المكتبات التي قمت بالطلب منها ."})})]})]})})]}),e("div",{className:"flex items-center justify-center mt-4",children:e(i,{onClick:n,children:"تحميل الفاتورة"})})]})}export{k as default};
