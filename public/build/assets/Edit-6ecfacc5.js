import{r as f,W as k,j as s,a,d as E,b as S}from"./app-9c5a79ba.js";import{I as o}from"./InputError-2249763b.js";import{I as d}from"./InputLabel-374860e7.js";import{P as y}from"./PrimaryButton-1e9222b3.js";import{T as m}from"./TextInput-b5b325ef.js";import{A as q}from"./AuthenticatedLayout-d2816446.js";import{t as M}from"./transition-db013f4b.js";import"./AdminAuthenticatedHeader-64d8fefa.js";import"./ApplicationLogo-534a4b7d.js";import"./AuthenticatedLibraryHeader-d500b1ad.js";function J({auth:N,branch:t,cities:n,districts:u,univisities:w}){var h,g;const[x,p]=f.useState(""),{data:r,setData:i,patch:b,errors:l,processing:C,recentlySuccessful:F}=k({username:t.user.username,password:"",phone:t.phone,city:t.city,district:t.district,google_maps:t.google_maps,user_id:t.user.id,university:t.university});f.useEffect(()=>{var e;p(((e=n.find(c=>c.name===r.city))==null?void 0:e.id)||"")},[]);const I=e=>{e.preventDefault(),b(route("library.update.branch",t.id))},_=e=>{const c=e.target.value,v=n.filter(j=>c==j.id);p(v[0].id),i("city",v[0].name)};return s(q,{user:N.user,header:s("div",{className:"flex items-center justify-between",children:[a("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"تعديل الفرع"}),a(E,{href:route("library.dashboard"),children:a(y,{children:"العودة"})})]}),children:[a(S,{title:"تعديل الفرع"}),a("div",{className:"py-8",children:a("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:a("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:a("div",{className:"p-6 text-gray-900",children:s("form",{onSubmit:I,className:"mt-6 space-y-6",children:[s("div",{children:[a(d,{htmlFor:"city",value:"المدينة"}),s("select",{value:((h=n.find(e=>e.name===r.city))==null?void 0:h.id)||"",onChange:_,className:"w-full mt-2 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm ",children:[a("option",{value:"",children:"أختر المدينة"}),n.map(e=>a("option",{value:e.id,children:e.name},e.id))]}),a(o,{className:"mt-2",message:l.city})]}),s("div",{children:[a(d,{htmlFor:"district",value:"الحي"}),s("select",{value:((g=u.find(e=>e.name===r.district))==null?void 0:g.name)||"",onChange:e=>i("district",e.target.value),className:"w-full mt-2 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm ",children:[a("option",{value:"",children:"أختر الحي"}),u.filter(e=>e.city_id===x).map(e=>a("option",{value:e.name,children:e.name},e.id))]}),a(o,{className:"mt-2",message:l.district_id})]}),s("div",{children:[a(d,{htmlFor:"univisity",value:"إختر الجامعة اذا كان الفرع متوفر في الجامعة"}),s("select",{value:r.university||"",onChange:e=>i("university",e.target.value),className:"w-full mt-2 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm ",children:[a("option",{value:"",children:"أختر  الجامعة"}),w.map(e=>a("option",{value:e.name,children:e.name},e.id))]}),a(o,{className:"mt-2",message:l.university})]}),s("div",{children:[a(d,{htmlFor:"username",value:"أسم المستخدم"}),a(m,{id:"username",type:"text",className:"mt-2 block w-full",value:r.username,onChange:e=>i("username",e.target.value),required:!0}),a(o,{className:"mt-2",message:l.username})]}),s("div",{children:[a(d,{htmlFor:"password",value:"كلمة المرور"}),a(m,{id:"password",type:"password",className:"mt-2 block w-full",value:r.password,onChange:e=>i("password",e.target.value)}),a(o,{className:"mt-2",message:l.password})]}),s("div",{children:[a(d,{htmlFor:"phone",value:" رقم التواصل"}),a(m,{id:"phone",className:"mt-2 block w-full",value:r.phone,onChange:e=>i("phone",e.target.value),required:!0,autoComplete:"phone"}),a(o,{className:"mt-2",message:l.phone})]}),s("div",{children:[a(d,{htmlFor:"googleMaps",value:"عنوان قوقل مابز"}),a(m,{id:"googleMaps",className:"mt-2 block w-full",value:r.google_maps,onChange:e=>i("google_maps",e.target.value),required:!0,autoComplete:"googleMaps"}),a(o,{className:"mt-2",message:l.google_maps})]}),s("div",{className:"flex items-center gap-4",children:[a(y,{disabled:C,children:"تحديث"}),a(M,{show:F,enterFrom:"opacity-0",leaveTo:"opacity-0",className:"transition ease-in-out",children:a("p",{className:"text-sm text-gray-600",children:"تم الحفظ بنجاح"})})]})]})})})})})]})}export{J as default};
