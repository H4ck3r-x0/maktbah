import{q as o,W as g,r as i,j as s,a as e,b as f,d as b}from"./app-994d5e75.js";import{P as v}from"./PrimaryButton-2416f9ed.js";import{A as _}from"./AuthenticatedLayout-8ad92384.js";import{m as k}from"./moment-with-locales-d774e9bf.js";import{d as M}from"./debounce-a76aab47.js";import{T as P}from"./TextInput-118ae39a.js";import"./AdminAuthenticatedHeader-ddcb393a.js";import"./ApplicationLogo-73246aff.js";import"./transition-3ddd626e.js";import"./AuthenticatedLibraryHeader-3cd8df76.js";function $({auth:n,orders:h}){const m=o().props.filters,d=o().props.currentPage,{data:t,setData:x,get:w,processing:u}=g({search:m.search}),y=a=>{x("search",a.target.value)},N=()=>{w(route("admin.order.index",{search:t.search,page:d}),{preserveScroll:!0,preserveState:!0,replace:!0})},c=i.useCallback(M(N,500),[t.search]);return i.useEffect(()=>(c(),c.cancel),[t.search,c]),s(_,{user:n.user,header:e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"الطلبات"}),children:[e(f,{title:"الطلبات"}),e("div",{className:"py-6",children:s("div",{className:"w-full items-center gap-3 px-2",children:[e("div",{className:"pb-3",children:e("div",{className:"flex items-center gap-4",children:e(P,{type:"text",id:"search",name:"search",className:" w-80",value:t.search||"",onChange:y,placeholder:"رقم الطلب ، صاحب الطلب ،اسم المكتبة"})})}),e("div",{className:"relative overflow-x-auto",children:s("table",{className:"w-full text-xs sm:text-lg text-right text-gray-500 shadow border",children:[e("thead",{className:"text-xs sm:text-lg text-gray-700  border ",children:s("tr",{children:[e("th",{scope:"col",className:"w-20 px-2 py-3 whitespace-nowrap",children:"رقم الطلب"}),e("th",{scope:"col",className:"px-2 py-3 whitespace-nowrap",children:"صاحب الطلب"}),e("th",{scope:"col",className:"px-2 py-3 whitespace-nowrap",children:"أسم المكتبة"}),e("th",{scope:"col",className:"px-2 py-3 whitespace-nowrap",children:"حالة الطلب"}),e("th",{scope:"col",className:"px-2 py-3 whitespace-nowrap",children:"إجمالي الطلب"}),e("th",{scope:"col",className:"px-2 py-3 whitespace-nowrap",children:"تاريخ الانشاء"}),e("th",{scope:"col",className:"px-2 py-3 whitespace-nowrap",children:"العمليات"})]})}),e("tbody",{className:`${u?"opacity-50":""}`,children:h.map(a=>{var r,l,p;return s("tr",{className:"bg-white ",children:[e("th",{scope:"row",className:"px-2 py-4  text-gray-900 whitespace-nowrap ",children:a.id}),e("th",{scope:"row",className:"px-2 py-4 whitespace-nowrap",children:a.user.username}),e("th",{scope:"row",className:"px-2 py-4 whitespace-nowrap",children:(r=a.details[0])!=null&&r.book.library?(l=a.details[0])==null?void 0:l.book.library.name:(p=a.details[0])==null?void 0:p.book.branch.name}),e("td",{className:"px-2 py-4 whitespace-nowrap",style:{color:`${a.current_status&&a.model_status[a.current_status].color}`},children:a.model_status[a.current_status].message.ar}),s("td",{className:"px-2 py-4 whitespace-nowrap",children:[a.total_payment," ريال"]}),e("td",{className:"px-2 py-4 whitespace-nowrap",children:k(a.created_at).locale("ar").format("MMMM Do YYYY")}),e("td",{className:"px-2 py-4 whitespace-nowrap",children:e(b,{href:route("admin.order.show",a.id),children:e(v,{className:"text-xs sm:text-sm",children:"التفاصيل"})})})]},a.id)})})]})})]})})]})}export{$ as default};
