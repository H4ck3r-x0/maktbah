import{j as a,a as t,b as d,d as h,f as i}from"./app-cb4316c3.js";import{D as x}from"./DangerButton-4c28199a.js";import{P as u}from"./PrimaryButton-da87da90.js";import{S as y}from"./SecondaryButton-906b8e0d.js";import{A as N}from"./AuthenticatedLayout-f050c8ea.js";import{m as f}from"./moment-with-locales-bf42551e.js";import"./AdminAuthenticatedHeader-c96ceacd.js";import"./ApplicationLogo-d330570c.js";import"./transition-3e9f14fd.js";import"./AuthenticatedLibraryHeader-94a27a78.js";function B({auth:n,orders:o}){const m=(e,s)=>{e.preventDefault(),i.post(route("user.order.cancel",s))},p=(e,s)=>{e.preventDefault(),i.post(route("user.order.restore",s))};return a(N,{user:n.user,header:t("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"الطلبات"}),children:[t(d,{title:"الطلبات"}),t("div",{className:"py-6",children:t("div",{className:"w-full  items-center gap-3 px-2",children:t("div",{className:"relative overflow-x-auto",children:a("table",{className:"w-full text-xs sm:text-lg text-right text-gray-500 shadow border",children:[t("thead",{className:"text-xs sm:text-lg text-gray-700  border ",children:a("tr",{children:[t("th",{scope:"col",className:"px-2 py-3",children:"رقم الطلب"}),t("th",{scope:"col",className:"px-2 py-3",children:"المكتبة"}),t("th",{scope:"col",className:"px-2 py-3",children:"حالة الطلب"}),t("th",{scope:"col",className:"px-2 py-3",children:"إجمالي الطلب"}),t("th",{scope:"col",className:"px-2 py-3",children:"تاريخ الانشاء"}),t("th",{scope:"col",className:"px-2 py-3",children:"العمليات"})]})}),t("tbody",{children:o.map(e=>{var s,l,r;return a("tr",{className:"bg-white ",children:[t("th",{scope:"row",className:"px-2 py-4   whitespace-nowrap ",children:e.id}),t("th",{scope:"row",className:"px-2 py-4  whitespace-nowrap ",children:(s=e.details[0])!=null&&s.book.library?(l=e.details[0])==null?void 0:l.book.library.name:(r=e.details[0])==null?void 0:r.book.branch.name}),t("td",{className:"px-2 py-4",style:{color:`${e.current_status&&e.model_status[e.current_status].color}`},children:e.model_status[e.current_status].message.ar}),a("td",{className:"px-2 py-4",children:[e.total_payment," ريال"]}),t("td",{className:"px-2 py-4",children:f(e.created_at).locale("ar").format("MMMM Do YYYY")}),a("td",{className:"flex items-center gap-2 px-2 py-4",children:[t(h,{href:route("user.order.show",e.id),children:t(u,{className:"text-xs sm:text-sm",children:"التفاصيل"})}),e.current_status==="canceled_by_user"?t(y,{className:"text-xs sm:text-sm",onClick:c=>p(c,e.id),children:"إستعادة الطلب"}):e.current_status!=="confirmed"&&e.current_status!=="canceled_by_library"&&t(x,{className:"text-xs sm:text-sm",onClick:c=>m(c,e.id),children:"إلغاء الطلب"})]})]},e.id)})})]})})})})]})}export{B as default};
