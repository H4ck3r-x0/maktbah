import{q as I,r as w,W as C,j as t,a as e}from"./app-32c80236.js";import{I as n}from"./InputError-a2068c9f.js";import{I as o}from"./InputLabel-178f5e81.js";import{P as S}from"./PrimaryButton-7d05a6f7.js";import"./TextInput-01edf1da.js";import{t as F}from"./transition-344076e6.js";function k({className:c="",cities:d,districts:m}){const a=I().props.auth.user,[u,g]=w.useState(""),{data:h,setData:i,patch:p,errors:s,processing:f,recentlySuccessful:v}=C({gender:a.gender?a.gender:"",city:a.city,district:a.district}),y=r=>{r.preventDefault(),p(route("profile.update"),{preserveScroll:!0})},N=r=>{const b=r.target.value,l=d.filter(x=>b==x.id);g(l[0].id),i("city",l[0].name)};return t("section",{className:c,children:[t("header",{children:[e("h2",{className:"text-lg font-medium text-gray-900",children:"معلوماتك الشخصية"}),e("p",{className:"mt-1 text-sm text-gray-600",children:"قم بتحديث معلوماتك الشخصية."})]}),t("form",{onSubmit:y,className:"mt-6 space-y-6",children:[t("div",{className:"mb-2",children:[e(o,{htmlFor:"gender",value:"الجنس"}),t("select",{value:h.gender,onChange:r=>i("gender",r.target.value),name:"gender",id:"gender",required:!0,className:"mt-2 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",children:[e("option",{value:"",children:"أختر نوع الجنس"}),e("option",{value:"male",children:"ذكر"}),e("option",{value:"female",children:"أنثى"})]}),e(n,{message:s.gender,className:"mt-2"})]}),t("div",{children:[e(o,{htmlFor:"city",value:"المدينة"}),t("select",{onChange:N,className:"w-full mt-2 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm ",children:[e("option",{value:"",children:"أختر المدينة"}),d.map(r=>e("option",{value:r.id,children:r.name},r.id))]}),e(n,{className:"mt-2",message:s.city})]}),t("div",{children:[e(o,{htmlFor:"city",value:"الحي"}),t("select",{onChange:r=>i("district",r.target.value),className:"w-full mt-2 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm ",children:[e("option",{value:"",children:"أختر الحي"}),m.filter(r=>r.city_id===u).map(r=>e("option",{value:r.name,children:r.name},r.id))]}),e(n,{className:"mt-2",message:s.district_id})]}),t("div",{className:"flex items-center gap-4",children:[e(S,{disabled:f,children:"حفظ"}),e(F,{show:v,enterFrom:"opacity-0",leaveTo:"opacity-0",className:"transition ease-in-out",children:e("p",{className:"text-sm text-gray-600",children:"تم الحفظ بنجاح"})})]})]})]})}export{k as default};
