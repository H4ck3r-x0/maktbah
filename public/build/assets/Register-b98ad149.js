import{r as m,W as j,j as r,a,b as k,F as I,d as S}from"./app-0d5cab24.js";import{G as E}from"./GuestLayout-aa030a1b.js";import{I as t}from"./InputError-c9c06dec.js";import{I as l}from"./InputLabel-cc3743d0.js";import{P as L}from"./PrimaryButton-e43057e7.js";import{T as c}from"./TextInput-f5d71c7f.js";import"./ApplicationLogo-2224923a.js";function z({universies:v,majors:u,cities:g,districts:f}){const[w,b]=m.useState([]),[h,y]=m.useState(null),{data:i,setData:s,post:N,processing:C,errors:o,reset:_}=j({account_type:"",username:"",password:"",password_confirmation:"",university:null,major:null,level:null,gender:null,city:null,district:null,selectedCityId:h||""}),F=e=>{const n=g.filter(d=>e.target.value==d.id);y(n[0].id),s("city",n[0].name)},q=e=>{var p;const n=e.target.value,d=((p=u.find(x=>x.name===n))==null?void 0:p.levels)||[];s("major",n),b(d)};return m.useEffect(()=>()=>{_("password","password_confirmation")},[]),r(E,{children:[a(k,{title:"تسجيل جديد"}),r("form",{onSubmit:e=>{e.preventDefault(),N(route("register"))},children:[r("div",{className:"mb-2",children:[a(l,{htmlFor:"account_type",value:"نوع الحساب"}),r("select",{onChange:e=>s("account_type",e.target.value),name:"account_type",id:"account_type",autoFocus:!0,required:!0,className:"mt-2 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",children:[a("option",{value:"",children:"أختر نوع الحساب"}),a("option",{value:"user",children:"طالب / طالبة"}),a("option",{value:"library",children:"مكتبة"}),a("option",{value:"teacher",children:"استاذ / استاذة"}),a("option",{value:"stationery",children:"قرطاسية"})]}),a(t,{message:o.account_type,className:"mt-2"})]}),i.account_type==="user"&&r(I,{children:[r("div",{className:"mb-2 ",children:[a(l,{htmlFor:"university",value:"إسم الجامعة"}),r("select",{onChange:e=>s("university",e.target.value),name:"university",id:"university",autoFocus:!0,required:!0,className:"mt-2 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",children:[a("option",{value:"",children:"أختر إسم الجامعة"}),v.map(e=>a("option",{value:e.name,children:e.name},e.id))]}),a(t,{message:o.university,className:"mt-2"})]}),r("div",{className:"mb-2",children:[a(l,{htmlFor:"major",value:"التخصص الجامعي"}),r("select",{onChange:e=>q(e),name:"major",id:"major",required:!0,className:"mt-2 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",children:[a("option",{value:"",children:"أختر التخصص الجامعي"}),u.map(e=>a("option",{value:e.name,children:e.name},e.id))]}),a(t,{message:o.major,className:"mt-2"})]}),r("div",{className:"mb-2",children:[a(l,{htmlFor:"level",value:"المستوى الجامعي"}),r("select",{onChange:e=>s("level",e.target.value),name:"level",id:"level",required:!0,className:"mt-2 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",children:[a("option",{value:"",children:"أختر المستوى الجامعي"}),w.map((e,n)=>a("option",{value:e,children:e},n))]}),a(t,{message:o.major,className:"mt-2"})]}),r("div",{className:"mb-2",children:[a(l,{htmlFor:"gender",value:"الجنس"}),r("select",{onChange:e=>s("gender",e.target.value),name:"gender",id:"gender",required:!0,className:"mt-2 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",children:[a("option",{value:"",children:"أختر الجنس"}),a("option",{value:"male",children:"ذكر"}),a("option",{value:"female",children:"أنثى"})]}),a(t,{message:o.gender,className:"mt-2"})]}),r("div",{children:[a(l,{htmlFor:"city",value:"المدينة"}),r("select",{required:!0,onChange:F,className:"w-full mt-2 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm ",children:[a("option",{value:"",children:"أختر المدينة"}),g.map(e=>a("option",{value:e.id,children:e.name},e.id))]}),a(t,{className:"mt-2",message:o.city})]}),r("div",{className:"mt-2",children:[a(l,{htmlFor:"city",value:"الحي"}),r("select",{required:!0,onChange:e=>s("district",e.target.value),className:"w-full mt-2 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm ",children:[a("option",{value:"",children:"أختر الحي"}),f.filter(e=>e.city_id===h).map(e=>a("option",{value:e.name,children:e.name},e.id))]}),a(t,{className:"mt-2",message:o.district_id})]})]}),r("div",{className:"mt-4",children:[a(l,{htmlFor:"username",value:"أسم المستخدم"}),a(c,{id:"username",type:"text",name:"username",value:i.username,className:"mt-2 block w-full",autoComplete:"username",onChange:e=>s("username",e.target.value),required:!0}),a(t,{message:o.username,className:"mt-2"})]}),r("div",{className:"mt-4",children:[a(l,{htmlFor:"password",value:"كلمة المرور"}),a(c,{id:"password",type:"password",name:"password",value:i.password,className:"mt-2 block w-full",autoComplete:"new-password",onChange:e=>s("password",e.target.value),required:!0}),a(t,{message:o.password,className:"mt-2"})]}),r("div",{className:"mt-4",children:[a(l,{htmlFor:"password_confirmation",value:"تأكيد كلمة المرور"}),a(c,{id:"password_confirmation",type:"password",name:"password_confirmation",value:i.password_confirmation,className:"mt-1 block w-full",autoComplete:"new-password",onChange:e=>s("password_confirmation",e.target.value),required:!0}),a(t,{message:o.password_confirmation,className:"mt-2"})]}),r("div",{className:"flex items-center  mt-4",children:[a(L,{className:"",disabled:C,children:"تسجيل"}),a(S,{href:route("login"),className:"mr-4  text-md text-gray-600 hover:text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"لديك حساب بالفعل؟"})]})]})]})}export{z as default};
