import{q as p,W as f,r as i,j as s,a as e,b,d as w}from"./app-0f417571.js";import{P as v}from"./PrimaryButton-db8d02aa.js";import{A as k}from"./AuthenticatedLayout-1a784295.js";import{m as M}from"./moment-with-locales-ad174319.js";import{d as P}from"./debounce-3ca2983e.js";import{T as Y}from"./TextInput-6268610b.js";import"./AdminAuthenticatedHeader-0ef8a0d5.js";import"./ApplicationLogo-d09776dc.js";import"./transition-4b5c5b4e.js";import"./AuthenticatedLibraryHeader-2897ad78.js";function q({auth:h,orders:n}){const m=p().props.filters,d=p().props.currentPage,{data:t,setData:x,get:u,processing:y}=f({search:m.search}),N=a=>{x("search",a.target.value)},g=()=>{u(route("admin.order.index",{search:t.search,page:d}),{preserveScroll:!0,preserveState:!0,replace:!0})},c=i.useCallback(P(g,500),[t.search]);return i.useEffect(()=>(c(),c.cancel),[t.search,c]),s(k,{user:h.user,header:e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"الطلبات"}),children:[e(b,{title:"الطلبات"}),e("div",{className:"py-6",children:s("div",{className:"w-full items-center gap-3 px-6",children:[e("div",{className:"pb-3",children:e("div",{className:"flex items-center gap-4",children:e(Y,{type:"text",id:"search",name:"search",className:" w-80",value:t.search?t.search:"",autoComplete:"search",onChange:N,placeholder:"رقم الطلب ، صاحب الطلب ،اسم المكتبة"})})}),e("div",{className:"relative overflow-x-auto",children:s("table",{className:"w-full text-xs sm:text-lg text-right text-gray-500 shadow border",children:[e("thead",{className:"text-xs sm:text-lg text-gray-700  border ",children:s("tr",{children:[e("th",{scope:"col",className:"px-6 py-3",children:"رقم الطلب"}),e("th",{scope:"col",className:"px-6 py-3",children:"صاحب الطلب"}),e("th",{scope:"col",className:"px-6 py-3",children:"أسم المكتبة"}),e("th",{scope:"col",className:"px-6 py-3",children:"حالة الطلب"}),e("th",{scope:"col",className:"px-6 py-3",children:"إجمالي الطلب"}),e("th",{scope:"col",className:"px-6 py-3",children:"تاريخ الانشاء"}),e("th",{scope:"col",className:"px-6 py-3",children:"العمليات"})]})}),e("tbody",{className:`${y?"opacity-50":""}`,children:n.map(a=>{var r,l,o;return s("tr",{className:"bg-white ",children:[e("th",{scope:"row",className:"px-6 py-4  text-gray-900 whitespace-nowrap ",children:a.id}),e("th",{scope:"row",className:"px-6 py-4",children:a.user.name}),e("th",{scope:"row",className:"px-6 py-4",children:(r=a.details[0])!=null&&r.book.library?(l=a.details[0])==null?void 0:l.book.library.name:(o=a.details[0])==null?void 0:o.book.branch.name}),e("td",{className:"px-6 py-4",children:a.model_status[a.current_status].message.ar}),s("td",{className:"px-6 py-4",children:[a.total_payment," ريال"]}),e("td",{className:"px-6 py-4",children:M(a.created_at).locale("ar").format("MMMM Do YYYY")}),e("td",{className:"px-6 py-4",children:e(w,{href:route("admin.order.show",a.id),children:e(v,{className:"text-xs sm:text-sm",children:"التفاصيل"})})})]},a.id)})})]})})]})})]})}export{q as default};
